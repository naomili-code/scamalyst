<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Practice Mode ‚Äî Scamalyst</title>
    <link rel="stylesheet" href="styles.css">
    <script src="script.js?v=20260217b" defer></script>
  </head>
  <body>
    <nav class="navbar">
      <div class="nav-container">
        <a href="home.html" class="logo" aria-label="Go to home"><img class="logo-icon" src="scamalyst-logo-icon-removebg-preview.png" alt="Scamalyst logo" /><span class="logo-text">Scamalyst</span></a>
        <ul class="nav-links">
          <li><a href="home.html">Home</a></li>
          <li><a href="analyze.html">Analyze</a></li>
          <li><a href="practice.html" class="active">Practice</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="ethics.html">Ethics</a></li>
          <li><button class="dark-mode-toggle" id="darkModeToggle" title="Toggle dark mode">üåô</button></li>
        </ul>
      </div>
    </nav>

    <main class="container practice-page">
      <h2 class="page-header">Practice Mode</h2>
      <p class="subtitle">Test your skills! Read each scenario and guess: Safe or Scam?</p>

      <div id="practiceContainer" class="practice-container">
        <!-- Scenarios will be inserted here by JavaScript -->
      </div>

      <div id="practiceStats" class="practice-stats hidden">
        <h3>Your Results</h3>
        <p>Correct: <span id="correctCount">0</span> / <span id="totalCount">0</span></p>
        <button onclick="location.reload()" class="btn btn-primary">Try Again</button>
      </div>
    </main>

    <footer>
      <p>&copy; 2026 Scamalyst | Cybersecurity Education Project</p>
      <p style="font-size:12px;margin-top:8px">This tool provides guidance, not guarantees. Always verify suspicious messages independently.</p>
    </footer>

    <script>
      const scenarios = [
        {
          message: "You've won a $1,000 Amazon gift card! Claim it now: bit.ly/amazongift",
          correct: "scam",
          explanation: "Too good to be true + shortened link + urgency. Classic phishing."
        },
        {
          message: "Hi, it's your bank. We need to verify your account. Click here immediately: verify-secure.net/bank",
          correct: "scam",
          explanation: "Fake authority (bank) + urgency + suspicious domain that mimics the real bank URL."
        },
        {
          message: "Hey! Did you see the new season? It's so good lol. Let me know what you think!",
          correct: "safe",
          explanation: "Casual tone, contractions (lol), friendly. No urgency or requests for info."
        },
        {
          message: "The implementation of cybersecurity protocols necessitates adherence to established frameworks. Organizations should evaluate defensive mechanisms.",
          correct: "scam",
          explanation: "Over-formal, templated language can be used in phishing or AI-generated scams."
        },
        {
          message: "Quick question‚Äîcan you help me understand the deadline for our project? No rush!",
          correct: "safe",
          explanation: "Conversational, polite, genuine question. No urgency or suspicious requests."
        },
        {
          message: "URGENT: Your account has been LOCKED. VERIFY NOW or lose access: emergency-verify.net/confirm?id=12345",
          correct: "scam",
          explanation: "All caps, urgency, fake authority, suspicious URL with query params, emotional pressure."
        },
        {
          message: "As an AI language model, I must note that password security is important. You should update your credentials monthly.",
          correct: "scam",
          explanation: "AI disclaimer language in unsolicited messages is a red flag."
        },
        {
          message: "The company's Q4 earnings report shows a 15% increase. Thought you'd want to know!",
          correct: "safe",
          explanation: "Informative, no urgency, no requests for sensitive info, natural tone."
        },
        {
          message: "Delivery notice: Your package is on hold. Confirm address here: delivery-status.com/track",
          correct: "scam",
          explanation: "Unexpected delivery alert + generic link + pressure to click."
        },
        {
          message: "Hey, are you free to jump on a quick call? I lost access to my account and need a code.",
          correct: "scam",
          explanation: "Asks for a code. This is a common takeover tactic."
        },
        {
          message: "Reminder: Your library book is due tomorrow. Reply YES to extend.",
          correct: "safe",
          explanation: "Low-risk reminder with no links or requests for sensitive data."
        },
        {
          message: "We noticed a sign-in from a new device. If this was you, ignore. If not, secure your account in Settings.",
          correct: "safe",
          explanation: "No link and provides a safe action (go to Settings yourself)."
        },
        {
          message: "Invoice attached for last month. Please review and confirm.",
          correct: "scam",
          explanation: "Unexpected invoice attachments are a common malware trick."
        },
        {
          message: "Congratulations! You are selected for a remote job paying $5,000/week. No interview required.",
          correct: "scam",
          explanation: "Unrealistic pay and no interview are major job-scam indicators."
        },
        {
          message: "Hi! This is Mia from Acme Tech. We reviewed your application and would like to schedule a 20-minute call. Are you free Wednesday at 2pm EST?",
          correct: "safe",
          explanation: "Specific details, reasonable request, professional tone."
        },
        {
          message: "Tech support: We detected viruses on your computer. Call now to avoid data loss.",
          correct: "scam",
          explanation: "Scare tactics and unsolicited support requests are classic tech support scams."
        },
        {
          message: "Your friend tagged you in a photo. View here: pics-share.net/yourname",
          correct: "scam",
          explanation: "Unexpected social link with a suspicious domain."
        },
        {
          message: "Can you send me the presentation file again? My email filter blocked it.",
          correct: "safe",
          explanation: "Reasonable request with no links or sensitive info."
        },
        {
          message: "Thank you for your donation to the local shelter! Receipt #20491",
          correct: "safe",
          explanation: "No link or request. A plain receipt is typically safe."
        },
        {
          message: "We are updating our payment system. Please re-enter your card details to avoid service interruption.",
          correct: "scam",
          explanation: "Requests card details with urgency and no verified channel."
        },
        {
          message: "Hi team, the meeting is moved to 3:30pm. The agenda is in the shared drive.",
          correct: "safe",
          explanation: "Routine update with no links or sensitive requests."
        },
        {
          message: "Your account will be deleted in 2 hours. Verify your identity now: account-secure-login.com",
          correct: "scam",
          explanation: "Threats + urgency + suspicious domain."
        },
        {
          message: "Mom, my phone broke. This is my new number. Can you send $200 right now?",
          correct: "scam",
          explanation: "Impersonation + urgent money request is a common family scam."
        },
        {
          message: "Hey! Loved your presentation today. Do you have time this week to share your notes?",
          correct: "safe",
          explanation: "Friendly and specific, no links or sensitive info."
        },
        {
          message: "Security update required: download this file to keep your device protected.",
          correct: "scam",
          explanation: "Unsolicited download requests are high risk."
        },
        {
          message: "Your refund is ready. Provide your bank login to receive it today.",
          correct: "scam",
          explanation: "Requests login credentials, which legitimate companies never do."
        },
        {
          message: "Thanks for signing up for our newsletter! You can unsubscribe anytime.",
          correct: "safe",
          explanation: "Standard confirmation, no urgency or requests."
        },
        {
          message: "Meeting reminder: 1:1 with Jordan at 10:00am. Location: Conference Room B.",
          correct: "safe",
          explanation: "Routine calendar reminder with no links or requests."
        },
        {
          message: "Your ride is waiting at the main entrance. Driver: Alex, Car: Blue Prius.",
          correct: "safe",
          explanation: "Specific details and no request for sensitive info."
        },
        {
          message: "Your payment receipt is available in the app. No action needed.",
          correct: "safe",
          explanation: "Directs you to the official app and asks for nothing."
        },
        {
          message: "School update: Tomorrow is an early release day at 12:30pm.",
          correct: "safe",
          explanation: "Informational notice with no links or requests."
        },
        {
          message: "Package delivered: left at front door. If you do not recognize this order, contact support via the official app.",
          correct: "safe",
          explanation: "No link included and suggests safe verification through the app."
        }
      ];

      let currentIndex = 0;
      let correctAnswers = 0;

      // Fisher-Yates shuffle to randomize scenarios order on each page load
      function shuffleArray(arr) {
        for (let i = arr.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [arr[i], arr[j]] = [arr[j], arr[i]];
        }
      }

      // Shuffle scenarios so practice order changes each visit
      shuffleArray(scenarios);

      function renderScenario() {
        if (currentIndex >= scenarios.length) {
          document.getElementById('practiceContainer').classList.add('hidden');
          const stats = document.getElementById('practiceStats');
          stats.classList.remove('hidden');
          document.getElementById('correctCount').textContent = correctAnswers;
          document.getElementById('totalCount').textContent = scenarios.length;
          return;
        }

        const scenario = scenarios[currentIndex];
        const html = `
          <div class="scenario-card">
            <div class="scenario-message">"${scenario.message}"</div>
            <div class="scenario-buttons">
              <button onclick="answerScenario('safe')" class="btn btn-small">‚úÖ Safe</button>
              <button onclick="answerScenario('scam')" class="btn btn-small">üö© Scam</button>
            </div>
            <div id="feedback" class="hidden"></div>
          </div>
        `;
        document.getElementById('practiceContainer').innerHTML = html;
      }

      function answerScenario(answer) {
        const scenario = scenarios[currentIndex];
        const feedback = document.getElementById('feedback');
        const isCorrect = answer === scenario.correct;
        
        if (isCorrect) correctAnswers++;

        const verdictText = answer === 'safe' ? '‚úÖ Safe' : 'üö© Scam';
        const correctText = scenario.correct === 'safe' ? '‚úÖ Safe' : 'üö© Scam';

        feedback.innerHTML = `
          <p style="color:${isCorrect ? '#2ecc71' : '#e74c3c'};font-weight:bold">
            ${isCorrect ? '‚úì Correct!' : '‚úó Incorrect'}
          </p>
          <p><strong>Correct answer:</strong> ${correctText}</p>
          <p><strong>Why:</strong> ${scenario.explanation}</p>
          <button onclick="nextScenario()" class="btn btn-primary" style="margin-top:12px">Next</button>
        `;
        feedback.classList.remove('hidden');
        document.querySelectorAll('.scenario-buttons button').forEach(btn => btn.disabled = true);
      }

      function nextScenario() {
        currentIndex++;
        renderScenario();
      }

      // Allow pressing Enter to go to the next scenario when feedback is visible
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Enter') {
          const fb = document.getElementById('feedback');
          if (fb && !fb.classList.contains('hidden')) {
            e.preventDefault();
            nextScenario();
          }
        }
      });

      renderScenario();
    </script>

    <button class="fab" id="fabBtn" onclick="event.stopPropagation(); toggleChatbot();" title="Ask Scamalyst">‚ùì</button>
    <div class="chatbot-panel" id="chatbotPanel" aria-hidden="true">
      <div class="chatbot-header">
        <div class="chatbot-title">Ask Scamalyst</div>
        <button class="chatbot-close" onclick="closeChatbot()" aria-label="Close chatbot">√ó</button>
      </div>
      <div class="chatbot-body">
        <div class="chatbot-help">
          <button class="chatbot-chip" onclick="sendHelpTopic('scam')">Common Scam Types</button>
          <button class="chatbot-chip" onclick="sendHelpTopic('ai')">AI Detection Tips</button>
          <button class="chatbot-chip" onclick="sendHelpTopic('url')">Website Analysis</button>
        </div>
        <div class="chatbot-messages" id="chatbotMessages"></div>
      </div>
      <form class="chatbot-input" id="chatbotForm" onsubmit="return sendChatMessage(event);">
        <input type="text" id="chatbotInput" placeholder="Ask about scam safety or how Scamalyst works" autocomplete="off" />
        <button type="submit">Send</button>
      </form>
    </div>

  </body>
</html>
